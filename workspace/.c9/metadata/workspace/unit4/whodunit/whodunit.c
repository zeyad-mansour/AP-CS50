{"filter":false,"title":"whodunit.c","tooltip":"~/workspace/unit4/whodunit/whodunit.c","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":0,"column":0},"end":{"row":81,"column":1},"action":"remove","lines":["#include <stdlib.h>","#include <stdio.h>","#include \"bmp.h\"","","int main(int argc, char* argv[])","{","    //make sure input is valid!","\tif (argc != 3)","    {","        printf(\"INVALID INPUT!\"); //remember not \"fprintf because we are not talking about a file yet.","        return 1;","    }","","    char* infile = argv[1];","    char* outfile = argv[2];","","    FILE* inptr = fopen(infile, \"r\"); //infile is input file","    if (inptr == NULL)","    {","        return 2;","    }","","    FILE* outptr = fopen(outfile, \"w\"); // outfile is output file","    if (outptr == NULL)","    {","        fclose(inptr);","        return 3;","    }","    BITMAPINFOHEADER bi;","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","    BITMAPFILEHEADER bf;","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);","","","    if (bi.biCompression != 0 || bf.bfOffBits != 54 || bi.biSize != 40 || bf.bfType != 0x4d42 || bi.biBitCount != 24)","","       fclose(inptr);","\t   fclose(outptr);","        return 4;","    }","","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","    int padding =  (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4;","","    for (int i = 0, biHeight = abs(bi.biHeight); i < biHeight; i++)","    {","        for (int i = 0; i < bi.biWidth; i++)","        {","            RGBTRIPLE triple;","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","            if (triple.rgbtRed == 255 && triple.rgbtBlue == 0) //assign all red pixels white","            {","                triple.rgbtGreen = 255;","\t\t\t\ttriple.rgbtBlue = 255;","            }","","            else if (triple.rgbtBlue == 246 && triple.rgbtGreen == 246 && triple.rgbtRed == 236 )","            {","                triple.rgbtRed = 255;","\t\t\t\ttriple.rgbtGreen = 255;","\t\t\t\ttriple.rgbtBlue = 255;","            }","            else","            {","                triple.rgbtBlue = triple.rgbtRed;","                triple.rgbtGreen = triple.rgbtRed; //they don't have any color","            }","","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }","        fseek(inptr, padding, SEEK_CUR); //address the padding, so image is in right place","        for (int i = 0; i < padding; i++)","        {","            fputc(0x00, outptr);","        }","    }","    //close input and output files","    fclose(inptr);","    fclose(outptr);","    return 0;","}"],"id":11},{"start":{"row":0,"column":0},"end":{"row":83,"column":1},"action":"insert","lines":["#include \"bmp.h\"","#include <stdio.h>","#include <stdlib.h>","","int main(int argc, char* argv[])","{","    if (argc != 3)","    {","        printf(\"INVALID\"); // remember that it is printf, not fprintf because we are not printing to a file","\t\treturn 1;","    }"," ","    char* infile = argv[1];","    char* outfile = argv[2];","    FILE* inptr = fopen(infile, \"r\");","    if (inptr == NULL)","    {","        return 2;","    }"," ","    FILE* outptr = fopen(outfile, \"w\"); //outfile is out put, and outptr is predefined variable in bmp.h","    if (outptr == NULL)","    {","        fclose(inptr);","        return 3;","    }","","    BITMAPINFOHEADER bi; //bi is predefined varible in bmp.h","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","\t","    BITMAPFILEHEADER bf;  //bf is predefined varible in bmp.h","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);"," "," ","    if (b|| bi.biSize != 40 || f.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biCompression != 0 || bi.biBitCount != 24)","    {","        fclose(inptr);","\t\tfclose(outptr);","        return 4;","    }","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","","    int padding =  (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4; //find the files scanlines"," ","    for (int i = 0, biHeight = abs(bi.biHeight); i < biHeight; i++)","    {","        for (int i = 0; i < bi.biWidth; i++)","        {","            RGBTRIPLE triple;","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","            ","            if (triple.rgbtRed == 255 && triple.rgbtBlue == 0)","            {","                triple.rgbtBlue = 255;","                triple.rgbtGreen = 255;  ","            }","            else if (triple.rgbtRed == 236 && triple.rgbtGreen == 246 && triple.rgbtBlue == 246)","            {","                triple.rgbtRed = 255;","                triple.rgbtGreen = 255;","\t\t\t\ttriple.rgbtBlue = 255;","","            }","            else","            {","                triple.rgbtBlue = triple.rgbtRed;","                triple.rgbtGreen = triple.rgbtRed;","            }","    ","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }"," ","","        fseek(inptr, padding, SEEK_CUR);","        for (int k = 0; k < padding; k++) //make sure to address padding so image is positioned correctly","        {","            fputc(0x00, outptr);","        }","    }","    fclose(inptr);","    fclose(outptr);","    return 0;","}"]}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":1},"action":"remove","lines":[" "],"id":12},{"start":{"row":19,"column":0},"end":{"row":19,"column":1},"action":"remove","lines":[" "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":32,"column":0},"end":{"row":32,"column":1},"action":"remove","lines":[" "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":[" "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":[" "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":12},"action":"remove","lines":["            "]},{"start":{"row":55,"column":39},"end":{"row":55,"column":41},"action":"remove","lines":["  "]},{"start":{"row":69,"column":0},"end":{"row":69,"column":4},"action":"remove","lines":["    "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":1},"action":"remove","lines":[" "]}],[{"start":{"row":45,"column":13},"end":{"row":45,"column":14},"action":"remove","lines":["i"],"id":13}],[{"start":{"row":45,"column":13},"end":{"row":45,"column":14},"action":"insert","lines":["j"],"id":14}],[{"start":{"row":45,"column":49},"end":{"row":45,"column":50},"action":"remove","lines":["i"],"id":15}],[{"start":{"row":45,"column":49},"end":{"row":45,"column":50},"action":"insert","lines":["j"],"id":16}],[{"start":{"row":45,"column":63},"end":{"row":45,"column":64},"action":"remove","lines":["i"],"id":17}],[{"start":{"row":45,"column":63},"end":{"row":45,"column":64},"action":"insert","lines":["j"],"id":18}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""],"id":19},{"start":{"row":71,"column":9},"end":{"row":72,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":50,"column":56},"end":{"row":51,"column":0},"action":"remove","lines":["",""],"id":20}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":16},"action":"remove","lines":["#include \"bmp.h\""],"id":22},{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":1,"column":19},"end":{"row":2,"column":0},"action":"insert","lines":["",""],"id":23}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":16},"action":"insert","lines":["#include \"bmp.h\""],"id":24}],[{"start":{"row":34,"column":11},"end":{"row":34,"column":12},"action":"remove","lines":[" "],"id":25},{"start":{"row":34,"column":10},"end":{"row":34,"column":11},"action":"remove","lines":["|"]},{"start":{"row":34,"column":9},"end":{"row":34,"column":10},"action":"remove","lines":["|"]},{"start":{"row":34,"column":8},"end":{"row":34,"column":9},"action":"remove","lines":["b"]}],[{"start":{"row":50,"column":56},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":26},{"start":{"row":51,"column":0},"end":{"row":51,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":14,"column":37},"end":{"row":14,"column":38},"action":"insert","lines":[" "],"id":27},{"start":{"row":14,"column":38},"end":{"row":14,"column":39},"action":"insert","lines":["/"]},{"start":{"row":14,"column":39},"end":{"row":14,"column":40},"action":"insert","lines":["/"]},{"start":{"row":14,"column":40},"end":{"row":14,"column":41},"action":"insert","lines":["r"]},{"start":{"row":14,"column":41},"end":{"row":14,"column":42},"action":"insert","lines":["e"]},{"start":{"row":14,"column":42},"end":{"row":14,"column":43},"action":"insert","lines":["a"]},{"start":{"row":14,"column":43},"end":{"row":14,"column":44},"action":"insert","lines":["d"]}],[{"start":{"row":14,"column":44},"end":{"row":14,"column":45},"action":"insert","lines":[" "],"id":28},{"start":{"row":14,"column":45},"end":{"row":14,"column":46},"action":"insert","lines":["t"]},{"start":{"row":14,"column":46},"end":{"row":14,"column":47},"action":"insert","lines":["h"]},{"start":{"row":14,"column":47},"end":{"row":14,"column":48},"action":"insert","lines":["e"]}],[{"start":{"row":14,"column":48},"end":{"row":14,"column":49},"action":"insert","lines":[" "],"id":29},{"start":{"row":14,"column":49},"end":{"row":14,"column":50},"action":"insert","lines":["f"]},{"start":{"row":14,"column":50},"end":{"row":14,"column":51},"action":"insert","lines":["i"]},{"start":{"row":14,"column":51},"end":{"row":14,"column":52},"action":"insert","lines":["l"]},{"start":{"row":14,"column":52},"end":{"row":14,"column":53},"action":"insert","lines":["e"]}],[{"start":{"row":20,"column":56},"end":{"row":20,"column":57},"action":"remove","lines":[" "],"id":30}],[{"start":{"row":30,"column":0},"end":{"row":31,"column":51},"action":"remove","lines":["    BITMAPFILEHEADER bf;  //bf is predefined varible in bmp.h","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);"],"id":31}],[{"start":{"row":27,"column":4},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":32},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":27,"column":4},"end":{"row":28,"column":51},"action":"insert","lines":["    BITMAPFILEHEADER bf;  //bf is predefined varible in bmp.h","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);"],"id":33}],[{"start":{"row":27,"column":4},"end":{"row":27,"column":8},"action":"remove","lines":["    "],"id":34},{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"insert","lines":["    "],"id":35}],[{"start":{"row":29,"column":4},"end":{"row":30,"column":0},"action":"insert","lines":["",""],"id":36},{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"remove","lines":["1"],"id":37}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"insert","lines":["1"],"id":38}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"remove","lines":["1"],"id":39}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"insert","lines":["l"],"id":40}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"remove","lines":["l"],"id":41}],[{"start":{"row":72,"column":47},"end":{"row":72,"column":48},"action":"insert","lines":["1"],"id":42}],[{"start":{"row":75,"column":17},"end":{"row":75,"column":18},"action":"remove","lines":["k"],"id":45}],[{"start":{"row":75,"column":17},"end":{"row":75,"column":18},"action":"insert","lines":["x"],"id":46}],[{"start":{"row":75,"column":24},"end":{"row":75,"column":25},"action":"remove","lines":["k"],"id":47}],[{"start":{"row":75,"column":24},"end":{"row":75,"column":25},"action":"insert","lines":["x"],"id":48}],[{"start":{"row":75,"column":37},"end":{"row":75,"column":38},"action":"remove","lines":["k"],"id":49}],[{"start":{"row":75,"column":37},"end":{"row":75,"column":38},"action":"insert","lines":["x"],"id":50}],[{"start":{"row":56,"column":34},"end":{"row":56,"column":37},"action":"remove","lines":["255"],"id":51},{"start":{"row":56,"column":34},"end":{"row":56,"column":38},"action":"insert","lines":["0xff"]}],[{"start":{"row":57,"column":35},"end":{"row":57,"column":38},"action":"remove","lines":["255"],"id":52},{"start":{"row":57,"column":35},"end":{"row":57,"column":39},"action":"insert","lines":["0xff"]}],[{"start":{"row":61,"column":33},"end":{"row":61,"column":36},"action":"remove","lines":["255"],"id":53},{"start":{"row":61,"column":33},"end":{"row":61,"column":37},"action":"insert","lines":["0x00"]}],[{"start":{"row":62,"column":35},"end":{"row":62,"column":38},"action":"remove","lines":["255"],"id":54},{"start":{"row":62,"column":35},"end":{"row":62,"column":39},"action":"insert","lines":["0x00"]}],[{"start":{"row":63,"column":22},"end":{"row":63,"column":25},"action":"remove","lines":["255"],"id":55},{"start":{"row":63,"column":22},"end":{"row":63,"column":26},"action":"insert","lines":["0x00"]}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["    "],"id":56},{"start":{"row":53,"column":0},"end":{"row":53,"column":12},"action":"remove","lines":["            "]}],[{"start":{"row":39,"column":2},"end":{"row":39,"column":17},"action":"remove","lines":["fclose(outptr);"],"id":58},{"start":{"row":39,"column":1},"end":{"row":39,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":39,"column":0},"end":{"row":39,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":38,"column":22},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":38,"column":8},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":59},{"start":{"row":39,"column":0},"end":{"row":39,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":38,"column":8},"end":{"row":38,"column":23},"action":"insert","lines":["fclose(outptr);"],"id":60}],[{"start":{"row":54,"column":34},"end":{"row":54,"column":37},"action":"remove","lines":["255"],"id":61},{"start":{"row":54,"column":34},"end":{"row":54,"column":38},"action":"insert","lines":["0xff"]}],[{"start":{"row":54,"column":61},"end":{"row":54,"column":62},"action":"remove","lines":["0"],"id":62},{"start":{"row":54,"column":61},"end":{"row":54,"column":65},"action":"insert","lines":["0x00"]}],[{"start":{"row":54,"column":65},"end":{"row":54,"column":66},"action":"insert","lines":[" "],"id":63}],[{"start":{"row":54,"column":66},"end":{"row":54,"column":92},"action":"insert","lines":["& triple.rgbtGreen == 0x00"],"id":64}],[{"start":{"row":54,"column":67},"end":{"row":54,"column":68},"action":"insert","lines":["&"],"id":65}],[{"start":{"row":39,"column":8},"end":{"row":39,"column":22},"action":"remove","lines":["fclose(inptr);"],"id":66},{"start":{"row":39,"column":4},"end":{"row":39,"column":8},"action":"remove","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]},{"start":{"row":38,"column":23},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":38,"column":8},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":67},{"start":{"row":39,"column":0},"end":{"row":39,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":38,"column":8},"end":{"row":38,"column":22},"action":"insert","lines":["fclose(inptr);"],"id":68}],[{"start":{"row":57,"column":16},"end":{"row":57,"column":40},"action":"remove","lines":["triple.rgbtGreen = 0xff;"],"id":69},{"start":{"row":57,"column":12},"end":{"row":57,"column":16},"action":"remove","lines":["    "]},{"start":{"row":57,"column":8},"end":{"row":57,"column":12},"action":"remove","lines":["    "]},{"start":{"row":57,"column":4},"end":{"row":57,"column":8},"action":"remove","lines":["    "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"remove","lines":["    "]},{"start":{"row":56,"column":39},"end":{"row":57,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"insert","lines":["\\"],"id":70}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"remove","lines":["\\"],"id":71}],[{"start":{"row":56,"column":16},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":72},{"start":{"row":57,"column":0},"end":{"row":57,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":40},"action":"insert","lines":["triple.rgbtGreen = 0xff;"],"id":73}],[{"start":{"row":54,"column":42},"end":{"row":54,"column":68},"action":"remove","lines":["triple.rgbtBlue == 0x00 &&"],"id":74},{"start":{"row":54,"column":41},"end":{"row":54,"column":42},"action":"remove","lines":[" "]}],[{"start":{"row":54,"column":66},"end":{"row":54,"column":67},"action":"insert","lines":[" "],"id":75},{"start":{"row":54,"column":67},"end":{"row":54,"column":68},"action":"insert","lines":["&"]},{"start":{"row":54,"column":68},"end":{"row":54,"column":69},"action":"insert","lines":["&"]}],[{"start":{"row":54,"column":69},"end":{"row":54,"column":70},"action":"insert","lines":[" "],"id":76}],[{"start":{"row":54,"column":70},"end":{"row":54,"column":96},"action":"insert","lines":["triple.rgbtBlue == 0x00 &&"],"id":77}],[{"start":{"row":54,"column":95},"end":{"row":54,"column":96},"action":"remove","lines":["&"],"id":78},{"start":{"row":54,"column":94},"end":{"row":54,"column":95},"action":"remove","lines":["&"]}],[{"start":{"row":59,"column":39},"end":{"row":59,"column":42},"action":"remove","lines":["236"],"id":79},{"start":{"row":59,"column":39},"end":{"row":59,"column":43},"action":"insert","lines":["0xff"]}],[{"start":{"row":59,"column":93},"end":{"row":59,"column":96},"action":"remove","lines":["246"],"id":80},{"start":{"row":59,"column":93},"end":{"row":59,"column":97},"action":"insert","lines":["0xff"]}],[{"start":{"row":59,"column":67},"end":{"row":59,"column":70},"action":"remove","lines":["246"],"id":81},{"start":{"row":59,"column":67},"end":{"row":59,"column":71},"action":"insert","lines":["0xff"]}],[{"start":{"row":54,"column":88},"end":{"row":54,"column":93},"action":"remove","lines":[" 0x00"],"id":82},{"start":{"row":54,"column":88},"end":{"row":54,"column":92},"action":"insert","lines":["0xff"]}],[{"start":{"row":54,"column":88},"end":{"row":54,"column":89},"action":"insert","lines":[" "],"id":83}],[{"start":{"row":54,"column":92},"end":{"row":54,"column":93},"action":"remove","lines":["f"],"id":84},{"start":{"row":54,"column":91},"end":{"row":54,"column":92},"action":"remove","lines":["f"]}],[{"start":{"row":54,"column":91},"end":{"row":54,"column":92},"action":"insert","lines":[")"],"id":85},{"start":{"row":54,"column":92},"end":{"row":54,"column":93},"action":"insert","lines":[")"]}],[{"start":{"row":54,"column":93},"end":{"row":54,"column":94},"action":"insert","lines":["="],"id":86}],[{"start":{"row":54,"column":93},"end":{"row":54,"column":94},"action":"remove","lines":["="],"id":87},{"start":{"row":54,"column":92},"end":{"row":54,"column":93},"action":"remove","lines":[")"]},{"start":{"row":54,"column":91},"end":{"row":54,"column":92},"action":"remove","lines":[")"]}],[{"start":{"row":54,"column":91},"end":{"row":54,"column":92},"action":"insert","lines":["0"],"id":88},{"start":{"row":54,"column":92},"end":{"row":54,"column":93},"action":"insert","lines":["0"]}],[{"start":{"row":59,"column":16},"end":{"row":59,"column":17},"action":"remove","lines":[" "],"id":89},{"start":{"row":59,"column":15},"end":{"row":59,"column":16},"action":"remove","lines":["e"]},{"start":{"row":59,"column":14},"end":{"row":59,"column":15},"action":"remove","lines":["s"]},{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"remove","lines":["l"]},{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"remove","lines":["e"]}],[{"start":{"row":67,"column":0},"end":{"row":71,"column":0},"action":"remove","lines":["            {","                triple.rgbtBlue = triple.rgbtRed;","                triple.rgbtGreen = triple.rgbtRed;","            }",""],"id":90},{"start":{"row":66,"column":16},"end":{"row":67,"column":0},"action":"remove","lines":["",""]},{"start":{"row":66,"column":15},"end":{"row":66,"column":16},"action":"remove","lines":["e"]},{"start":{"row":66,"column":14},"end":{"row":66,"column":15},"action":"remove","lines":["s"]},{"start":{"row":66,"column":13},"end":{"row":66,"column":14},"action":"remove","lines":["l"]}],[{"start":{"row":66,"column":12},"end":{"row":66,"column":13},"action":"remove","lines":["e"],"id":91}],[{"start":{"row":66,"column":0},"end":{"row":66,"column":12},"action":"remove","lines":["            "],"id":92}],[{"start":{"row":12,"column":8},"end":{"row":12,"column":9},"action":"insert","lines":[" "],"id":93}],[{"start":{"row":12,"column":10},"end":{"row":12,"column":11},"action":"remove","lines":[" "],"id":94}],[{"start":{"row":13,"column":8},"end":{"row":13,"column":9},"action":"insert","lines":[" "],"id":95}],[{"start":{"row":13,"column":10},"end":{"row":13,"column":11},"action":"remove","lines":[" "],"id":96}],[{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"insert","lines":[" "],"id":97}],[{"start":{"row":14,"column":10},"end":{"row":14,"column":11},"action":"remove","lines":[" "],"id":98}],[{"start":{"row":39,"column":8},"end":{"row":39,"column":23},"action":"remove","lines":["fclose(outptr);"],"id":99},{"start":{"row":39,"column":4},"end":{"row":39,"column":8},"action":"remove","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]},{"start":{"row":38,"column":22},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":38,"column":8},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":100},{"start":{"row":39,"column":0},"end":{"row":39,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":38,"column":8},"end":{"row":38,"column":23},"action":"insert","lines":["fclose(outptr);"],"id":101}],[{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"remove","lines":["",""],"id":102},{"start":{"row":32,"column":0},"end":{"row":33,"column":0},"action":"remove","lines":["",""]},{"start":{"row":31,"column":51},"end":{"row":32,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":75,"column":1},"action":"remove","lines":["#include <stdio.h>","#include <stdlib.h>","#include \"bmp.h\"","","int main(int argc, char* argv[])","{","    if (argc != 3)","    {","        printf(\"INVALID\"); // remember that it is printf, not fprintf because we are not printing to a file","\t\treturn 1;","    }","","    char *infile = argv[1];","    char *outfile = argv[2];","    FILE *inptr = fopen(infile, \"r\"); //read the file","    if (inptr == NULL)","    {","        return 2;","    }","","    FILE* outptr = fopen(outfile, \"w\"); //outfile is output, and outptr is predefined variable in bmp.h","    if (outptr == NULL)","    {","        fclose(inptr);","        return 3;","    }","","    BITMAPFILEHEADER bf;  //bf is predefined varible in bmp.h","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);","","    BITMAPINFOHEADER bi; //bi is predefined varible in bmp.h","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","","    if (bi.biSize != 40 || f.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biCompression != 0 || bi.biBitCount != 24)","    {","        fclose(outptr);","        fclose(inptr);","        return 4;","    }","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","","    int padding =  (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4; //find the files scanlines","","    for (int j = 0, biHeight = abs(bi.biHeight); j < biHeight; j++)","    {","        for (int i = 0; i < bi.biWidth; i++)","        {","            RGBTRIPLE triple;","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","","            if (triple.rgbtRed == 0xff && triple.rgbtGreen == 0x00 && triple.rgbtBlue == 0x00 )","            {","                triple.rgbtGreen = 0xff;","                triple.rgbtBlue = 0xff;","            }","            if (triple.rgbtRed == 0xff && triple.rgbtGreen == 0xff && triple.rgbtBlue == 0xff)","            {","                triple.rgbtRed = 0x00;","                triple.rgbtGreen = 0x00;","\t\t\t\ttriple.rgbtBlue = 0x00;","","            }","","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }","        fseek(inptr, padding, SEEK_CUR);","        for (int x = 0; x < padding; x++) //make sure to address padding so image is positioned correctly","        {","            fputc(0x00, outptr);","        }","    }","    fclose(inptr);","    fclose(outptr);","    return 0;","}"],"id":103},{"start":{"row":0,"column":0},"end":{"row":72,"column":1},"action":"insert","lines":["#include <stdio.h>","#include <stdlib.h>","","#include \"bmp.h\"","","int main(int argc, char *argv[])","","    if (argc != 3)","        fprintf(stderr, \"Usage: ./whodunit infile outfile\\n\");","        return 1;","    }","","    char *infile = argv[1];","    char *outfile = argv[2];","","    FILE *inptr = fopen(infile, \"r\");","    if (inptr == NULL)","    {","        fprintf(stderr, \"Could not open %s.\\n\", infile);","        return 2;","    }","    FILE *outptr = fopen(outfile, \"w\");","    if (outptr == NULL)","    {","        fclose(inptr);","        fprintf(stderr, \"Could not create %s.\\n\", outfile);","        return 3;","    }","","    BITMAPFILEHEADER bf;","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);","","    BITMAPINFOHEADER bi;","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","","    if (bf.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biSize != 40 || ","        bi.biBitCount != 24 || bi.biCompression != 0)","    {","        fclose(outptr);","        fclose(inptr);","        fprintf(stderr, \"Unsupported file format.\\n\");","        return 4;","    }","","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","    int padding =  (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4;","","    for (int i = 0, biHeight = abs(bi.biHeight); i < biHeight; i++)","        for (int j = 0; j < bi.biWidth; j++)","        {","            RGBTRIPLE triple;","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","            ","            if(triple.rgbtBlue == 0x00 && triple.rgbtGreen == 0x00 && triple.rgbtRed == 0xff)","            {","                triple.rgbtBlue = 0xff;","                triple.rgbtGreen = 0xff;","            }","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }","        fseek(inptr, padding, SEEK_CUR);","","        for (int k = 0; k < padding; k++)","        {","            fputc(0x00, outptr);","        }","    }","","    fclose(inptr);","    fclose(outptr);","    return 0;","}"]}],[{"start":{"row":35,"column":71},"end":{"row":35,"column":72},"action":"remove","lines":[" "],"id":104},{"start":{"row":53,"column":0},"end":{"row":53,"column":12},"action":"remove","lines":["            "]}],[{"start":{"row":7,"column":18},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":105},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]},{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"insert","lines":["{"]}],[{"start":{"row":5,"column":32},"end":{"row":5,"column":33},"action":"insert","lines":["{"],"id":106}],[{"start":{"row":5,"column":32},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":107}],[{"start":{"row":74,"column":0},"end":{"row":74,"column":1},"action":"remove","lines":["}"],"id":108}],[{"start":{"row":74,"column":0},"end":{"row":74,"column":1},"action":"insert","lines":["}"],"id":109},{"start":{"row":74,"column":1},"end":{"row":74,"column":2},"action":"insert","lines":["{"]}],[{"start":{"row":74,"column":1},"end":{"row":74,"column":2},"action":"remove","lines":["{"],"id":110}],[{"start":{"row":38,"column":4},"end":{"row":38,"column":8},"action":"remove","lines":["    "],"id":111},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["    "]},{"start":{"row":37,"column":71},"end":{"row":38,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":37,"column":71},"end":{"row":37,"column":72},"action":"insert","lines":[" "],"id":112}],[{"start":{"row":0,"column":0},"end":{"row":73,"column":1},"action":"remove","lines":["#include <stdio.h>","#include <stdlib.h>","","#include \"bmp.h\"","","int main(int argc, char *argv[])","{","","    if (argc != 3)","    {","        fprintf(stderr, \"Usage: ./whodunit infile outfile\\n\");","        return 1;","    }","","    char *infile = argv[1];","    char *outfile = argv[2];","","    FILE *inptr = fopen(infile, \"r\");","    if (inptr == NULL)","    {","        fprintf(stderr, \"Could not open %s.\\n\", infile);","        return 2;","    }","    FILE *outptr = fopen(outfile, \"w\");","    if (outptr == NULL)","    {","        fclose(inptr);","        fprintf(stderr, \"Could not create %s.\\n\", outfile);","        return 3;","    }","","    BITMAPFILEHEADER bf;","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);","","    BITMAPINFOHEADER bi;","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","","    if (bf.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biSize != 40 || bi.biBitCount != 24 || bi.biCompression != 0)","    {","        fclose(outptr);","        fclose(inptr);","        fprintf(stderr, \"Unsupported file format.\\n\");","        return 4;","    }","","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","    int padding =  (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4;","","    for (int i = 0, biHeight = abs(bi.biHeight); i < biHeight; i++)","        for (int j = 0; j < bi.biWidth; j++)","        {","            RGBTRIPLE triple;","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","","            if(triple.rgbtBlue == 0x00 && triple.rgbtGreen == 0x00 && triple.rgbtRed == 0xff)","            {","                triple.rgbtBlue = 0xff;","                triple.rgbtGreen = 0xff;","            }","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }","        fseek(inptr, padding, SEEK_CUR);","","        for (int k = 0; k < padding; k++)","        {","            fputc(0x00, outptr);","        }","    }","","    fclose(inptr);","    fclose(outptr);","    return 0;","}"],"id":115},{"start":{"row":0,"column":0},"end":{"row":110,"column":1},"action":"insert","lines":["#include <stdio.h>","#include <stdlib.h>","","#include \"bmp.h\"","","int main(int argc, char *argv[])","{","    // ensure proper usage","    if (argc != 3)","    {","        fprintf(stderr, \"Usage: copy infile outfile\\n\");","        return 1;","    }","","    // remember filenames","    char *infile = argv[1];","    char *outfile = argv[2];","","    // open input file","    FILE *inptr = fopen(infile, \"r\");","    if (inptr == NULL)","    {","        fprintf(stderr, \"Could not open %s.\\n\", infile);","        return 2;","    }","","    // open output file","    FILE *outptr = fopen(outfile, \"w\");","    if (outptr == NULL)","    {","        fclose(inptr);","        fprintf(stderr, \"Could not create %s.\\n\", outfile);","        return 3;","    }","","    // read infile's BITMAPFILEHEADER","    BITMAPFILEHEADER bf;","    fread(&bf, sizeof(BITMAPFILEHEADER), 1, inptr);","","    // read infile's BITMAPINFOHEADER","    BITMAPINFOHEADER bi;","    fread(&bi, sizeof(BITMAPINFOHEADER), 1, inptr);","","    // ensure infile is (likely) a 24-bit uncompressed BMP 4.0","    if (bf.bfType != 0x4d42 || bf.bfOffBits != 54 || bi.biSize != 40 ||","        bi.biBitCount != 24 || bi.biCompression != 0)","    {","        fclose(outptr);","        fclose(inptr);","        fprintf(stderr, \"Unsupported file format.\\n\");","        return 4;","    }","","    // write outfile's BITMAPFILEHEADER","    fwrite(&bf, sizeof(BITMAPFILEHEADER), 1, outptr);","","    // write outfile's BITMAPINFOHEADER","    fwrite(&bi, sizeof(BITMAPINFOHEADER), 1, outptr);","","    // determine padding for scanlines","    int padding = (4 - (bi.biWidth * sizeof(RGBTRIPLE)) % 4) % 4;","","    // iterate over infile's scanlines","    for (int i = 0, biHeight = abs(bi.biHeight); i < biHeight; i++)","    {","        // iterate over pixels in scanline","        for (int j = 0; j < bi.biWidth; j++)","        {","            // temporary storage","            RGBTRIPLE triple;","","","            // read RGB triple from infile","            fread(&triple, sizeof(RGBTRIPLE), 1, inptr);","            //If rgbtriple is pure red, set it to white","            if (triple.rgbtRed == 0xff && triple.rgbtBlue == 0x00 && triple.rgbtGreen == 0x00)","            {","                triple.rgbtBlue = 0xff;","                triple.rgbtGreen = 0xff;","            }","            //if rgbtriple is white, change it to black","            if (triple.rgbtBlue == 0xff && triple.rgbtRed == 0xff && triple.rgbtGreen == 0xff)","            {","                triple.rgbtBlue = 0x00;","                triple.rgbtRed = 0x00;","                triple.rgbtGreen = 0x00;","            }","","            // write RGB triple to outfile","            fwrite(&triple, sizeof(RGBTRIPLE), 1, outptr);","        }","","        // skip over padding, if any","        fseek(inptr, padding, SEEK_CUR);","","        // then add it back (to demonstrate how)","        for (int k = 0; k < padding; k++)","        {","            fputc(0x00, outptr);","        }","    }","","    // close infile","    fclose(inptr);","","    // close outfile","    fclose(outptr);","","    // success","    return 0;","}"]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":116},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":20},"action":"insert","lines":["// Copies a BMP file"],"id":117}]]},"ace":{"folds":[],"scrolltop":1125.359375,"scrollleft":0,"selection":{"start":{"row":0,"column":20},"end":{"row":0,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":87,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1556666078081,"hash":"511adefac824412e4c4579450d85314b84e9c54a"}